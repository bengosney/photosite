(()=>{let e=[...document.querySelectorAll(".masonry")];if(e.length&&"masonry"!==getComputedStyle(e[0]).gridTemplateRows){let o=e.map(e=>({_el:e,gap:parseFloat(getComputedStyle(e).rowGap),items:[...e.children].filter(e=>1===e.nodeType).map(e=>"PICTURE"===e.tagName&&e.querySelector("img")||e)}));function t(){o.forEach(e=>{let t=getComputedStyle(e._el).gridTemplateColumns.split(" ").length;e.items.forEach(e=>e.style.removeProperty("margin-top")),t>1&&requestAnimationFrame(()=>{e.items.slice(t).forEach((t,o)=>{let l=e.items[o].getBoundingClientRect().bottom,i=t.getBoundingClientRect().top;t.style.marginTop=`${l+e.gap-i}px`})})})}addEventListener("load",e=>{let o;t(),window.addEventListener("resize",()=>{clearTimeout(o),o=setTimeout(t,100)},!1)},!1)}})();
